<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
</head>
<body>
    <h1>HI</h1>

    <div class="for-guests">
        <p>Hi, our dear guests! This part of info is available for all our users)</p>
    </div>

    <div class="for-admins">
        <p>This part of info will be available only for admins:</p>
        <p>This story was</p><span id="part-for-admins">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt, possimus.</span>
    </div>

    <div class="for-premium">
        <p>This part of info will be available only for premium_users:</p>
        <p>This story was</p>
    </div>

    <script>
        const part_for_admins = document.getElementById("part-for-admins")
        part_for_admins.style.cssText = "display: none";

        fetch(`http://localhost:8081/api/admin/confirm-status?login=${localStorage.getItem("login")}`, {
            method: "GET",
            headers: {
                'Authorization': `Bearer ${localStorage.getItem('token')}`
            }
        }).then(response => {
            if (!response.ok) {
                console.log("error occured")
            }

            return response.text()

        }).then(data => {
            console.log(data)

            if (data == "Admin status confirmed") {
                part_for_admins.style.cssText = "display: inline"
            }
        })
    </script>
</body>
</html>